"use strict";(self["webpackChunksa1"]=self["webpackChunksa1"]||[]).push([[917],{9917:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ql"},[t("div",{staticClass:"top"},[e._v(" 麒麟丹掉落所需科技计算 ")]),t("el-form",{ref:"qlRuleForm",staticClass:"demo-ruleForm",attrs:{model:e.qlRuleForm,"status-icon":"",rules:e.rules,"label-width":"15vw"}},[t("div",{staticClass:"hunting"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.qlRuleForm.huntingGodOne?"当前神域狩猎Ⅰ已满级，请直接输入神域狩猎Ⅱ的等级如20输入20":"请输入神域狩猎Ⅰ的等级如10输入10",placement:"top"}},[t("el-form-item",{attrs:{label:"神域:",prop:"huntingGod"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入神域狩猎等级"},model:{value:e.qlRuleForm.huntingGod,callback:function(t){e.$set(e.qlRuleForm,"huntingGod",e._n(t))},expression:"qlRuleForm.huntingGod"}})],1)],1),t("el-form-item",{attrs:{label:"",prop:""}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.qlRuleForm.huntingGodOne?"神域狩猎Ⅰ已满级":"神域狩猎Ⅰ未满级",placement:"top"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.qlRuleForm.huntingGodOne,callback:function(t){e.$set(e.qlRuleForm,"huntingGodOne",t)},expression:"qlRuleForm.huntingGodOne"}})],1)],1)],1),t("div",{staticClass:"hunting"},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.qlRuleForm.areaHuntingOne?"当前外域狩猎Ⅰ已满级，请直接输入外域狩猎Ⅱ的等级如20输入20":"请输入外域狩猎Ⅰ的等级如10输入10",placement:"top"}},[t("el-form-item",{attrs:{label:"外域:",prop:"areaHunting"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入外域狩猎等级"},model:{value:e.qlRuleForm.areaHunting,callback:function(t){e.$set(e.qlRuleForm,"areaHunting",e._n(t))},expression:"qlRuleForm.areaHunting"}})],1)],1),t("el-form-item",{attrs:{label:"",prop:""}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top",content:e.qlRuleForm.areaHuntingOne?"外域狩猎Ⅰ已满级":"外域狩猎Ⅰ未满级"}},[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.qlRuleForm.areaHuntingOne,callback:function(t){e.$set(e.qlRuleForm,"areaHuntingOne",t)},expression:"qlRuleForm.areaHuntingOne"}})],1)],1)],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"你想要获得的麒麟数量",placement:"top"}},[t("el-form-item",{attrs:{label:"预期:",prop:"expect"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入预期麒麟数"},model:{value:e.qlRuleForm.expect,callback:function(t){e.$set(e.qlRuleForm,"expect",e._n(t))},expression:"qlRuleForm.expect"}})],1)],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"初始为1,按战斗后杀戮值每2000加1,上限4(暂时)",placement:"top"}},[t("el-form-item",{attrs:{label:"基数:",prop:"cardinal"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入麒麟基数"},model:{value:e.qlRuleForm.cardinal,callback:function(t){e.$set(e.qlRuleForm,"cardinal",e._n(t))},expression:"qlRuleForm.cardinal"}})],1)],1),t("el-form-item",{attrs:{label:"虎符:",prop:"huFu"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入虎符数量"},model:{value:e.qlRuleForm.huFu,callback:function(t){e.$set(e.qlRuleForm,"huFu",e._n(t))},expression:"qlRuleForm.huFu"}})],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"所有战斗奖励源阵及旧日战斗奖励的百分比,示例:如加成4.5%直接输入4.5",placement:"top"}},[t("el-form-item",{attrs:{label:"源阵:",prop:"Source"}},[t("el-input",{attrs:{type:"number",placeholder:"请输入源阵加成%"},model:{value:e.qlRuleForm.Source,callback:function(t){e.$set(e.qlRuleForm,"Source",e._n(t))},expression:"qlRuleForm.Source"}})],1)],1),t("el-form-item",{staticClass:"clearM"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm({formName:"qlRuleForm",formId:"expectType"})}}},[e._v("预期麒麟计算")]),t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.resetForm("qlRuleForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm({formName:"qlRuleForm",formId:"currentType"})}}},[e._v("当前科技计算")])],1)],1)],1)},n=[],o=(l(560),{name:"SAql",data(){return{qlRuleForm:{formId:"",expect:"",cardinal:"",huFu:"",Source:"",huntingGod:"",huntingGodOne:!1,areaHunting:"",areaHuntingOne:!1},rules:{huntingGod:[{validator:(e,t,l)=>"expectType"==this.qlRuleForm.formId?l():t?t<0?(setTimeout((()=>{this.qlRuleForm.huntingGod=0}),1e3),l(new Error("当前神域狩猎等级不能为负数"))):this.qlRuleForm.huntingGodOne&&t>600?(setTimeout((()=>{this.qlRuleForm.huntingGod=600}),1e3),l(new Error("神域狩猎Ⅱ等级最高为600级"))):!this.qlRuleForm.huntingGodOne&&t>180?(setTimeout((()=>{this.qlRuleForm.huntingGod=180}),1e3),l(new Error("神域狩猎Ⅰ等级最高为180级"))):l():l(new Error("当前神域狩猎等级不能为空")),trigger:"change"}],areaHunting:[{validator:(e,t,l)=>"expectType"==this.qlRuleForm.formId?l():t?t<0?(setTimeout((()=>{this.qlRuleForm.areaHunting=0}),1e3),l(new Error("当前外域狩猎等级不能为负数"))):this.qlRuleForm.areaHuntingOne&&t>600?(setTimeout((()=>{this.qlRuleForm.areaHunting=600}),1e3),l(new Error("外域狩猎Ⅱ等级最高为600级"))):!this.qlRuleForm.areaHuntingOne&&t>180?(setTimeout((()=>{this.qlRuleForm.areaHunting=180}),1e3),l(new Error("外域狩猎Ⅰ等级最高为180级"))):l():l(new Error("当前外域狩猎等级不能为空")),trigger:"change"}],expect:[{validator:(e,t,l)=>{let r=[],n=0|(t+"").split("").length;if("currentType"==this.qlRuleForm.formId)return l();if(!t)return l(new Error("预期麒麟数量不能为空"));if(t<0)return setTimeout((()=>{this.qlRuleForm.expect=0}),1e3),l(new Error("预期麒麟数量不能为负数"));if(n>=10){for(let e=0;e<10;e++)r.push((t+"").split("")[e]);return this.qlRuleForm.expect=Number(r.join("")),l(new Error("输入最大字符为10位"))}return l()},trigger:"change"}],cardinal:[{validator:(e,t,l)=>t?t<0?(setTimeout((()=>{this.qlRuleForm.cardinal=0}),1e3),l(new Error("麒麟基数不能为负数"))):t>5?(setTimeout((()=>{this.qlRuleForm.cardinal=4}),1e3),l(new Error("麒麟基数为1-4"))):l():l(new Error("麒麟基数不能为空")),trigger:"change"}],huFu:[{validator:(e,t,l)=>t||0===t?t<0?(setTimeout((()=>{this.qlRuleForm.huFu=0}),1e3),l(new Error("虎符范围为0-10000"))):t>1e4?(setTimeout((()=>{this.qlRuleForm.huFu=1e4}),1e3),l(new Error("虎符范围为0-10000"))):l():l(new Error("虎符不能为空")),trigger:"change"}],Source:[{validator:(e,t,l)=>{let r=[],n=0|(t+"").split("").length;if(!t&&0!==t)return l(new Error("源阵加成不能为空"));if(t<0)return setTimeout((()=>{this.qlRuleForm.Source=0}),1e3),l(new Error("源阵加成最小值为0"));if(n>=10){for(let e=0;e<10;e++)r.push((t+"").split("")[e]);return this.qlRuleForm.Source=Number(r.join("")),l(new Error("输入最大字符为10位"))}return l()},trigger:"change"}]}}},methods:{submitForm({formName:e,formId:t}){this.qlRuleForm.formId=t,this.$refs[e].validate((e=>{if(!e)return!1;{this.$store.commit("SET_Ql_Calculate",this.qlRuleForm);let e=0,l=0,r=0,n=0,o={};if("expectType"==t){e=Number(this.qlRuleForm.huFu.mul(.05)),l=Number(this.qlRuleForm.Source),r=Math.floor(e.add(l)).div(100).add(1),n=Number(this.qlRuleForm.cardinal.mul(r)),o.baiHu=1*Math.floor(r),o.num=this.qlRuleForm.expect,o.class=Math.round(Number(this.qlRuleForm.expect.div(n).sub(1)).div(.05).mul(100)).div(100);let t=Math.ceil(o.class);o.qingLong=Math.floor(Number(t).div(20)).add(1),o.ZqOXw=Math.floor(r.mul(Math.ceil(t).mul(.05)+1)),o.class>780||o.class<0?this.openTip2():(o.class>180?(o.class1=180,o.class2=o.class-o.class1,o.class2=Math.floor(o.class2.mul(100)).div(100)):(o.class1=t,o.class2=0),this.openTip1(o))}else o.hClass=this.qlRuleForm.huntingGod,o.AClass=this.qlRuleForm.areaHunting,this.qlRuleForm.huntingGodOne&&(o.hClass+=180),this.qlRuleForm.areaHuntingOne&&(o.AClass+=180),e=Number(this.qlRuleForm.huFu.mul(.05)),l=Number(this.qlRuleForm.Source),r=Math.floor(e.add(l)).div(100).add(1),n=Number(this.qlRuleForm.cardinal.mul(r)),o.baiHu=1*Math.floor(r),o.qingLong=Math.floor(o.hClass.div(20)).add(1),o.HZqOXw=Math.floor(r.mul(Number(o.hClass).mul(.05)+1)),o.HqiLin=Math.floor(n.mul(o.hClass.mul(.05).add(1))),this.openTip3(o);this.savaData()}}))},resetForm(e){this.$refs[e].resetFields()},openTip1(e){this.$notify({title:"结果",dangerouslyUseHTMLString:!0,message:`您当前想获得<span class='rs'> ${e.num} </span>颗麒麟,\n需要神域狩猎科技等级为<span class='rs'> \n狩猎Ⅰ:${e.class1}级，狩猎Ⅱ:${e.class2}级</span>,\n击杀神主掉落：\n白虎<span class='rs'> ${e.baiHu} </span>颗,\n当神域狩猎等级为<span class='rs'> \n狩猎Ⅰ:${Math.ceil(e.class1)}级，狩猎Ⅱ:${Math.ceil(e.class2)}级时</span>,\n神域战斗概率掉落:\n<span class='rs'>${e.qingLong}颗青龙、<span class='rs'> ${e.ZqOXw}颗朱雀或玄武 </span>`,type:"success",duration:3e4})},openTip2(){this.$notify({title:"结果",dangerouslyUseHTMLString:!0,message:"<span class='rs'>当前科技等级上限,不足以满足或远超您的预期！请点击下方<span class=\"br\">当前科技计算</span>按钮。",type:"error",duration:3e4})},openTip3(e){this.$notify({title:"结果",dangerouslyUseHTMLString:!0,message:`当前拥有的奖励加成\n击杀神主掉落：\n<span class="rs">白虎${e.baiHu}颗</span>\n在神域战斗时有概率掉落：\n<span class='rs'>青龙${e.qingLong}颗、朱雀或玄武${e.HZqOXw}颗、\n麒麟${e.HqiLin}颗。</span>\n在外域战斗时有概率掉落：\n<span class="rs">测试中</span> `,type:"success",duration:3e4})}},mounted(){let e=this.$store.state.qlCalculate;void 0!=e&&(this.qlRuleForm=e)}}),s=o,a=l(1001),i=(0,a.Z)(s,r,n,!1,null,null,null),u=i.exports}}]);